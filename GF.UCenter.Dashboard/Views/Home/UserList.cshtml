
@{
    ViewBag.Title = "用户列表";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div>
    <div ng-controller="usersController">
        <h2 class="page-header">用户列表</h2>
        <div class="container">
            <div class="col-sm-offset-8 col-sm-4">
                <form class="right-bottom" ng-submit="fetch()">
                    <div class="input-group">
                        <input type="text" class="form-control" ng-model="params.keyword" placeholder="Search" name="srch-term" id="srch-term">
                        <div class="input-group-btn">
                            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <table class="table table-bordered table-striped table-condensed">
            <thead>
                <tr>
                    <th>账号</th>
                    <th>姓名</th>
                    <th>性别</th>
                    <th>游客？</th>
                    <th>邮箱</th>
                    <th>手机</th>
                    <th>注册日期</th>
                    <th>最近登录日期</th>
                    <th>订单</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="row in raws">
                    <td>{{row.AccountName}}</td>
                    <td>{{row.Name}}</td>
                    <td>{{row.Sex|enums:'sex'}}</td>
                    <td>{{row.IsGuest|yesNo}}</td>
                    <td>{{row.Email}}</td>
                    <td>{{row.PhoneNum}}</td>
                    <td>{{row.CreatedDateTime | date:'yyyy/MM/dd'}}</td>
                    <td>{{row.LastLoginDateTime| date:'yyyy/MM/dd HH:mm'}}</td>
                    <td><a href="/home/orderlist?accountId={{row.Id}}">订单</a></td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="col-sm-8">
                <uib-pagination total-items="data.Total"
                                items-per-page="data.PageSize"
                                ng-model="page"
                                max-size="maxShowPages"
                                ng-change="onPageChange()"
                                class="pagination"
                                boundary-link-numbers="true"
                                previous-text="上一页"
                                next-text="下一页"
                                first-text="第一页"
                                lang-text="最后一页"
                                rotate="false"></uib-pagination>
            </div>
            <div class="col-sm-4 text-right">
                <ul class="pagination">
                    <li class="disabled"><a href="#">页长</a></li>
                    <li ng-repeat="size in pageSizeList" ng-class="{active:size==pageSize}">
                        <a href="#" ng-click="onPageSizeChange(size)">{{size}}</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
